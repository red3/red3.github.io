<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Harry" />
    
    <title>WWDC2015 Session笔记-App Thinning</title>
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="harry shutter" type="application/atom+xml" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/media/css/style.css">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/retina.js/1.3.0/retina.min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script type="text/javascript"> hljs.initHighlightingOnLoad(); </script>
  </head>
  <body>
      <div id="main" role="main">
        <header>
          <div id="header">
            <h1><a title="harry shutter" class="" href="/">harry shutter</a></h1>
          </div>
          <nav>
            
            <span><a title="Archive" href="/archive.html"><i class="fa fa-list-ul"></i></a></span>
            
            <span><a title="Tags" href="/tags.html"><i class="fa fa-tags"></i></a></span>
            
            <span><a title="About" href="/about.html"><i class="fa fa-user"></i></a></span>
            
            <span><a title="Gallery" href="http://red3.lofter.com"><i class="fa fa-film"></i></a></span>
            
            <span><a title="Subscribe" href="/atom.xml"><i class="fa fa-rss"></i></a></span>
            
          </nav>
        </header>
        <div id="content">
        <article>
  <section class="title">
    <h2>WWDC2015 Session笔记-App Thinning </h2>
  </section>
  <section class="meta">
  <span class="time">
    <time datetime="2015-07-05">2015-07-05</time>
  </span>
  
  <span class="tags">
    
    <a href="/tags.html#WWDC" title="WWDC">#WWDC</a>
    
  </span>
  <!-- BEGIN this would not work on any other domain -->
  <span
    class           = "like-wrapper"
    like-shortname  = 'gopherwood'
    like-identifier = ''
    like-name       = 'WWDC2015 Session笔记-App Thinning'
    like-btn        = '&#xf087;'
    like-link       = '/2015/07/05/WWDC-2015-APP-Thinning.html'
    ></span>
  <script type="text/javascript">
    var l = document.createElement('script');
    l.type = 'text/javascript'; l.async = true; l.src = 'http://www.like-btn.com/javascript/widget.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(l);
  </script>
  <!-- END this would not work on any other domain -->
  
  </section>
  <section class="post">
  <p>本文是我依据 WWDC15 Session Video 写的一篇笔记，涉及的 Session 有</p>

<p>-<a href="https://developer.apple.com/videos/wwdc/2015/?id=404">App Thinning in Xcode</a></p>

<h2 id="section">重要</h2>
<ul>
  <li>苹果指出，使用App-Thinning的前提是使用Asset Catalog管理资源文件</li>
  <li>在苹果的演示中，一个约74M的应用程序经过Thinning后变为约22M，效果还是很惊人的</li>
</ul>

<h2 id="section-1">我们需要了解的</h2>
<ul>
  <li>如何使应用程序的体积变得越小</li>
  <li>开发和提交应用程序的时候需要做些什么以使App-Thinning生效</li>
</ul>

<h2 id="work-flow">Work Flow</h2>

<h3 id="section-2">创建</h3>

<p>苹果说明必须使用Asset Catalog管理资源文件才可以使App-Thinning生效，Xcode7.0以前新建的默认工程里面有Images.xcassets这个文件夹是管理图片资源的，Xcode7.0以后默认生成Assets.xcassets文件夹，用来管理Image Set、Data Set以及Sprite Atlas，看来以前使用自己创建的文件夹方式管理图片的同学要尽快迁移到Assets下，迁移的方式也很简单，
选中工程中的Images.xcassets文件夹，然后选中文件目录树下方的”+”，然后选择”Import From Project”，这是Xcode已经自动把工程中的全部图片选中。</p>

<h3 id="section-3">编译</h3>

<ul>
  <li>Xcode在编译运行的时候能够自动根据当前选中设备（模拟器或者真机都可以）选择适合设备的资源</li>
  <li>如果不想使用App-Thinning，可以在build setting中Asset Catalog Compiler中更改Enable_Building_Only_Active_Resources这个选项，默认设置是YES</li>
  <li>速度提升，因为运行的时候，只会把适合当前设备的资源文件进行拷贝，以前是一股脑的都拷贝了</li>
</ul>

<h3 id="section-4">提交</h3>

<ul>
  <li>如果是提交到AppStore，和以往一样提交就行</li>
  <li>Ad-hoc/Enterprise Distribution可以根据设备导出对应的ipa文件</li>
  <li>企业证书通过Over-the-Air安装，也就是采用itms-service协议直接通过浏览器安装的时候，需要勾选”Include manifest for over-the-air installation”选项，这样不同的设备会自动对应到适应的安装包</li>
</ul>

<p><img src="/assets/2015/ad-hoc-app-thinning.jpg" alt="" /></p>

<h2 id="section-5">总结</h2>
<p>应该说给App瘦身这件事是近几年呼声挺高的一件事，而今年在Xcode7上苹果加入了这个功能，并且可以让开发者以极其小的付出就可以拥抱这次变化，可谓大快人心！</p>


  </section>
  
</article>

        </div>
        <footer>
          <div>
            
            &copy; 2015 ~ 2015 Harry | powered by jekyll | themed by <a href="http://lhzhang.com" title="sext vi">sext vi</a> | fork <a href="https://github.com/waynezhang/blog" title="fork me">me</a>
          </div>
        </footer>
      </div> <!-- main -->
  </body>
</html>
